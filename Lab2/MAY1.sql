-- tạo user + grant quyền
CREATE USER dhqg IDENTIFIED BY dhqg;
GRANT CONNECT, DBA TO dhqg; 
CREATE USER sinhvien IDENTIFIED BY sinhvien;
GRANT CONNECT, DBA TO sinhvien;
CREATE USER dhcntt IDENTIFIED BY dhcntt;
GRANT CONNECT, DBA TO dhcntt;

-- tạo các bảng
CREATE TABLE SINHVIEN (
	MASV varchar2(8) PRIMARY KEY, 
	MAKHOA varchar2(10), 
	HOTEN varchar2(50), 
	NGAYSINH date, 
	GIOITINH char(1) 
);

CREATE TABLE KHOA ( 
	MAKHOA varchar2(10) PRIMARY KEY, 
	MATRUONG varchar2(5) 
); 

CREATE TABLE HOCPHI ( 
	MASV varchar2(8), 
	HOCKY number, 
	SOTIEN number, 
	CONSTRAINT PK_HOCPHI PRIMARY KEY (MASV,HOCKY) 
);

-- tạo các khóa ngoại
ALTER TABLE SINHVIEN 
ADD CONSTRAINT FK_SINHVIEN_KHOA FOREIGN KEY (MAKHOA) 
REFERENCES KHOA(MAKHOA);

ALTER TABLE HOCPHI 
ADD CONSTRAINT FK_HOCPHI_SINHVIEN FOREIGN KEY (MASV) 
REFERENCES SINHVIEN(MASV);

-- thêm dữ liệu cho các bảng
INSERT INTO KHOA VALUES ('HTTT_CNTT','CNTT'); 
INSERT INTO KHOA VALUES ('KHMT_CNTT','CNTT'); 
INSERT INTO KHOA VALUES ('KTMT_CNTT','CNTT'); 
INSERT INTO KHOA VALUES ('CNPM_CNTT','CNTT'); 
INSERT INTO KHOA VALUES ('MMT_CNTT','CNTT'); 
INSERT INTO KHOA VALUES ('KTTT_CNTT','CNTT');

INSERT INTO SINHVIEN VALUES ('19520113','HTTT_CNTT','Ta Quang 
Huy',to_date('01/09/2001','dd/mm/yyyy'),1); 
INSERT INTO SINHVIEN VALUES ('19521456','KTTT_CNTT','Nguyen Thi Thu 
Ha',to_date('03/10/2001','dd/mm/yyyy'),0); 
INSERT INTO SINHVIEN VALUES ('19520007','KHMT_CNTT','Vo Khanh 
An',to_date('25/12/2001','dd/mm/yyyy'),1); 
INSERT INTO SINHVIEN VALUES ('19521955','CNPM_CNTT','Phan Anh 
Nhat',to_date('26/03/2001','dd/mm/yyyy'),1); 
INSERT INTO SINHVIEN VALUES ('19522064','KTTT_CNTT','Nguyen Thi Mai 
Phuong',to_date('01/01/2001','dd/mm/yyyy'),0);

INSERT INTO HOCPHI VALUES ('19520113',1,17500000); 
INSERT INTO HOCPHI VALUES ('19521456',1,6000000); 
INSERT INTO HOCPHI VALUES ('19520007',1,17500000); 
INSERT INTO HOCPHI VALUES ('19521955',1,17500000); 
INSERT INTO HOCPHI VALUES ('19522064',1,6000000);






